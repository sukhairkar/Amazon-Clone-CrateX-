(globalThis.TURBOPACK = globalThis.TURBOPACK || []).push([typeof document === "object" ? document.currentScript : undefined, {

"[project]/app/admin/data:1e429b [app-client] (ecmascript) <text/javascript>": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname, k: __turbopack_refresh__, m: module } = __turbopack_context__;
{
/* __next_internal_action_entry_do_not_use__ [{"60691f9dd020b27fad54e29d6f4dbbc671e035c7d1":"updateProduct"},"app/admin/action.js",""] */ __turbopack_context__.s({
    "updateProduct": (()=>updateProduct)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var updateProduct = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("60691f9dd020b27fad54e29d6f4dbbc671e035c7d1", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "updateProduct"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vYWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGFwcC8od2hhdGV2ZXLigJFmb2xkZXIpL2FjdGlvbi5qc1xyXG5cInVzZSBzZXJ2ZXJcIjtcclxuXHJcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gXCJAL2xpYi9wcmlzbWFcIjtcclxuXHJcbi8qKiBDUkVBVEUgKGFscmVhZHkgcHJlc2VudCkgKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVByb2R1Y3QoZm9ybURhdGEpIHtcclxuICBjb25zdCBuYW1lICAgICAgICA9IGZvcm1EYXRhLmdldChcIm5hbWVcIik7XHJcbiAgY29uc3QgaW1nICAgICAgICAgPSBmb3JtRGF0YS5nZXQoXCJpbWdcIik7XHJcbiAgY29uc3QgZGVzY3JpcHRpb24gPSBmb3JtRGF0YS5nZXQoXCJkZXNjcmlwdGlvblwiKTtcclxuICBjb25zdCBwcmljZSAgICAgICA9IE51bWJlcihmb3JtRGF0YS5nZXQoXCJwcmljZVwiKSk7XHJcblxyXG4gIGlmICghbmFtZSB8fCAhaW1nIHx8ICFkZXNjcmlwdGlvbiB8fCAhcHJpY2UpIHJldHVybjtcclxuXHJcbiAgYXdhaXQgcHJpc21hLnByb2R1Y3QuY3JlYXRlKHtcclxuICAgIGRhdGE6IHsgbmFtZSwgaW1nLCBkZXNjcmlwdGlvbiwgcHJpY2UgfSxcclxuICB9KTtcclxufVxyXG5cclxuLyoqIPCflIQgVVBEQVRFIGJ5IGlkICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVQcm9kdWN0KGlkLCBmb3JtRGF0YSkge1xyXG4gIGNvbnN0IG5hbWUgICAgICAgID0gZm9ybURhdGEuZ2V0KFwibmFtZVwiKTtcclxuICBjb25zdCBpbWcgICAgICAgICA9IGZvcm1EYXRhLmdldChcImltZ1wiKTtcclxuICBjb25zdCBkZXNjcmlwdGlvbiA9IGZvcm1EYXRhLmdldChcImRlc2NyaXB0aW9uXCIpO1xyXG4gIGNvbnN0IHByaWNlICAgICAgID0gTnVtYmVyKGZvcm1EYXRhLmdldChcInByaWNlXCIpKTtcclxuXHJcbiAgaWYgKCFuYW1lIHx8ICFpbWcgfHwgIWRlc2NyaXB0aW9uIHx8ICFwcmljZSkgcmV0dXJuO1xyXG5cclxuICBhd2FpdCBwcmlzbWEucHJvZHVjdC51cGRhdGUoe1xyXG4gICAgd2hlcmU6IHsgaWQgfSxcclxuICAgIGRhdGE6IHsgbmFtZSwgaW1nLCBkZXNjcmlwdGlvbiwgcHJpY2UgfSxcclxuICB9KTtcclxufVxyXG5cclxuLyoqIOKdjCBPcHRpb25hbDogREVMRVRFIGJ5IGlkICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVQcm9kdWN0KGlkKSB7XHJcbiAgYXdhaXQgcHJpc21hLnByb2R1Y3QuZGVsZXRlKHsgd2hlcmU6IHsgaWQgfSB9KTtcclxufVxyXG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjBSQW9Cc0IifQ==
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(module, globalThis.$RefreshHelpers$);
}
}}),
"[project]/app/admin/[id]/edit/EditProductForm.jsx [app-client] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname, k: __turbopack_refresh__, m: module } = __turbopack_context__;
{
// app/admin/[id]/edit/EditProductForm.jsx
__turbopack_context__.s({
    "default": (()=>EditProductForm)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$hook$2d$form$2f$dist$2f$index$2e$esm$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/react-hook-form/dist/index.esm.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$app$2f$admin$2f$data$3a$1e429b__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/app/admin/data:1e429b [app-client] (ecmascript) <text/javascript>"); // adjust relative path
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/navigation.js [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
"use client";
;
;
;
;
;
;
function EditProductForm({ product }) {
    _s();
    const { register, handleSubmit, watch, setValue, formState: { errors } } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$hook$2d$form$2f$dist$2f$index$2e$esm$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useForm"])({
        defaultValues: {
            name: product.name,
            description: product.description,
            img: product.img,
            price: product.price
        }
    });
    const router = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRouter"])();
    const [isPending, startTransition] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTransition"])();
    const [loadingDesc, setLoadingDesc] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const generateDescription = async ()=>{
        const name = watch("name");
        if (!name) {
            alert("Please enter a product name");
            return;
        }
        setLoadingDesc(true);
        try {
            const res = await fetch("/api/generateDescription", {
                method: "POST",
                body: JSON.stringify({
                    name
                }),
                headers: {
                    "Content-Type": "application/json"
                }
            });
            const data = await res.json();
            if (data.description) {
                setValue("description", data.description);
            } else {
                alert("Failed to generate description");
            }
        } catch (err) {
            console.error("Error generating description:", err);
            alert("Something went wrong during description generation.");
        }
        setLoadingDesc(false);
    };
    const onSubmit = (data)=>{
        const formData = new FormData();
        Object.entries(data).forEach(([k, v])=>formData.append(k, v));
        startTransition(async ()=>{
            await (0, __TURBOPACK__imported__module__$5b$project$5d2f$app$2f$admin$2f$data$3a$1e429b__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["updateProduct"])(product.id, formData);
            router.push("/admin"); // back to list
        });
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("form", {
        onSubmit: handleSubmit(onSubmit),
        className: "space-y-3",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                ...register("name", {
                    required: true
                }),
                className: "input input-bordered w-full",
                placeholder: "Name"
            }, void 0, false, {
                fileName: "[project]/app/admin/[id]/edit/EditProductForm.jsx",
                lineNumber: 67,
                columnNumber: 7
            }, this),
            errors.name && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                className: "error",
                children: "Name required"
            }, void 0, false, {
                fileName: "[project]/app/admin/[id]/edit/EditProductForm.jsx",
                lineNumber: 72,
                columnNumber: 23
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("textarea", {
                style: {
                    backgroundColor: "white",
                    borderRadius: "12px"
                },
                ...register("description", {
                    required: true
                }),
                rows: 3,
                className: "textarea textarea-bordered w-full"
            }, void 0, false, {
                fileName: "[project]/app/admin/[id]/edit/EditProductForm.jsx",
                lineNumber: 74,
                columnNumber: 7
            }, this),
            errors.description && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                className: "error",
                children: "Description required"
            }, void 0, false, {
                fileName: "[project]/app/admin/[id]/edit/EditProductForm.jsx",
                lineNumber: 79,
                columnNumber: 30
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                ...register("img", {
                    required: true
                }),
                className: "input input-bordered w-full",
                placeholder: "Image URL"
            }, void 0, false, {
                fileName: "[project]/app/admin/[id]/edit/EditProductForm.jsx",
                lineNumber: 81,
                columnNumber: 7
            }, this),
            errors.img && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                className: "error",
                children: "Image URL required"
            }, void 0, false, {
                fileName: "[project]/app/admin/[id]/edit/EditProductForm.jsx",
                lineNumber: 86,
                columnNumber: 22
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                type: "number",
                step: "0.01",
                ...register("price", {
                    required: true,
                    valueAsNumber: true
                }),
                className: "input input-bordered w-full",
                placeholder: "Price"
            }, void 0, false, {
                fileName: "[project]/app/admin/[id]/edit/EditProductForm.jsx",
                lineNumber: 88,
                columnNumber: 7
            }, this),
            errors.price && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                className: "error",
                children: "Price required"
            }, void 0, false, {
                fileName: "[project]/app/admin/[id]/edit/EditProductForm.jsx",
                lineNumber: 95,
                columnNumber: 24
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                type: "button",
                onClick: generateDescription,
                disabled: loadingDesc,
                className: "mt-2 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded",
                children: loadingDesc ? "Generating..." : "Auto Generate Description ✨"
            }, void 0, false, {
                fileName: "[project]/app/admin/[id]/edit/EditProductForm.jsx",
                lineNumber: 97,
                columnNumber: 8
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                className: "savechanges",
                disabled: isPending,
                children: isPending ? "Saving…" : "Save changes"
            }, void 0, false, {
                fileName: "[project]/app/admin/[id]/edit/EditProductForm.jsx",
                lineNumber: 106,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/app/admin/[id]/edit/EditProductForm.jsx",
        lineNumber: 66,
        columnNumber: 5
    }, this);
}
_s(EditProductForm, "fsjkreO+6cXsPzP1jHOyg4E4goA=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$hook$2d$form$2f$dist$2f$index$2e$esm$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useForm"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRouter"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTransition"]
    ];
});
_c = EditProductForm;
var _c;
__turbopack_context__.k.register(_c, "EditProductForm");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(module, globalThis.$RefreshHelpers$);
}
}}),
}]);

//# sourceMappingURL=app_admin_e8d8cda5._.js.map