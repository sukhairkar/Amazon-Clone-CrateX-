{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/supri/Desktop/amazon_replicate/app/admin/action.js"],"sourcesContent":["// app/(whatever‑folder)/action.js\r\n\"use server\";\r\n\r\nimport { prisma } from \"@/lib/prisma\";\r\n\r\n/** CREATE (already present) */\r\nexport async function createProduct(formData) {\r\n  const name        = formData.get(\"name\");\r\n  const img         = formData.get(\"img\");\r\n  const description = formData.get(\"description\");\r\n  const price       = Number(formData.get(\"price\"));\r\n\r\n  if (!name || !img || !description || !price) return;\r\n\r\n  await prisma.product.create({\r\n    data: { name, img, description, price },\r\n  });\r\n}\r\n\r\n/** 🔄 UPDATE by id */\r\nexport async function updateProduct(id, formData) {\r\n  const name        = formData.get(\"name\");\r\n  const img         = formData.get(\"img\");\r\n  const description = formData.get(\"description\");\r\n  const price       = Number(formData.get(\"price\"));\r\n\r\n  if (!name || !img || !description || !price) return;\r\n\r\n  await prisma.product.update({\r\n    where: { id },\r\n    data: { name, img, description, price },\r\n  });\r\n}\r\n\r\n/** ❌ Optional: DELETE by id */\r\nexport async function deleteProduct(id) {\r\n  await prisma.product.delete({ where: { id } });\r\n}\r\n"],"names":[],"mappings":";;;;;;IAoBsB,gBAAA,WAAA,GAAA,CAAA,GAAA,sNAAA,CAAA,wBAAA,EAAA,8CAAA,sNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,sNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/supri/Desktop/amazon_replicate/app/admin/%5Bid%5D/edit/EditProductForm.jsx"],"sourcesContent":["// app/admin/[id]/edit/EditProductForm.jsx\r\n\"use client\";\r\n\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useTransition } from \"react\";\r\nimport { updateProduct } from \"../../action\"; // adjust relative path\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nexport default function EditProductForm({ product }) {\r\n  const { register, handleSubmit, formState: { errors } } = useForm({\r\n    defaultValues: {\r\n      name:        product.name,\r\n      description: product.description,\r\n      img:         product.img,\r\n      price:       product.price,\r\n    },\r\n  });\r\n\r\n  const router = useRouter();\r\n  const [isPending, startTransition] = useTransition();\r\n\r\n  const onSubmit = (data) => {\r\n    const formData = new FormData();\r\n    Object.entries(data).forEach(([k, v]) => formData.append(k, v));\r\n\r\n    startTransition(async () => {\r\n      await updateProduct(product.id, formData);\r\n      router.push(\"/admin\");           // back to list\r\n    });\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-3\">\r\n      <input\r\n        {...register(\"name\", { required: true })}\r\n        className=\"input input-bordered w-full\"\r\n        placeholder=\"Name\"\r\n      />\r\n      {errors.name && <span className=\"error\">Name required</span>}\r\n\r\n      <textarea style={{backgroundColor: \"white\",borderRadius: \"12px\"}}\r\n        {...register(\"description\", { required: true })}\r\n        rows={3}\r\n        className=\"textarea textarea-bordered w-full\"\r\n      />\r\n      {errors.description && <span className=\"error\">Description required</span>}\r\n\r\n      <input\r\n        {...register(\"img\", { required: true })}\r\n        className=\"input input-bordered w-full\"\r\n        placeholder=\"Image URL\"\r\n      />\r\n      {errors.img && <span className=\"error\">Image URL required</span>}\r\n\r\n      <input\r\n        type=\"number\"\r\n        step=\"0.01\"\r\n        {...register(\"price\", { required: true, valueAsNumber: true })}\r\n        className=\"input input-bordered w-full\"\r\n        placeholder=\"Price\"\r\n      />\r\n      {errors.price && <span className=\"error\">Price required</span>}\r\n\r\n      <button className=\"btn btn-primary w-full\" disabled={isPending}>\r\n        {isPending ? \"Saving…\" : \"Save changes\"}\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,0CAA0C;;;;;AAG1C;AACA;AACA,gQAA8C,uBAAuB;AACrE;AALA;;;;;;AAOe,SAAS,gBAAgB,EAAE,OAAO,EAAE;IACjD,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAE,WAAW,EAAE,MAAM,EAAE,EAAE,GAAG,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE;QAChE,eAAe;YACb,MAAa,QAAQ,IAAI;YACzB,aAAa,QAAQ,WAAW;YAChC,KAAa,QAAQ,GAAG;YACxB,OAAa,QAAQ,KAAK;QAC5B;IACF;IAEA,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,WAAW,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD;IAEjD,MAAM,WAAW,CAAC;QAChB,MAAM,WAAW,IAAI;QACrB,OAAO,OAAO,CAAC,MAAM,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,GAAK,SAAS,MAAM,CAAC,GAAG;QAE5D,gBAAgB;YACd,MAAM,CAAA,GAAA,oJAAA,CAAA,gBAAa,AAAD,EAAE,QAAQ,EAAE,EAAE;YAChC,OAAO,IAAI,CAAC,WAAqB,eAAe;QAClD;IACF;IAEA,qBACE,8OAAC;QAAK,UAAU,aAAa;QAAW,WAAU;;0BAChD,8OAAC;gBACE,GAAG,SAAS,QAAQ;oBAAE,UAAU;gBAAK,EAAE;gBACxC,WAAU;gBACV,aAAY;;;;;;YAEb,OAAO,IAAI,kBAAI,8OAAC;gBAAK,WAAU;0BAAQ;;;;;;0BAExC,8OAAC;gBAAS,OAAO;oBAAC,iBAAiB;oBAAQ,cAAc;gBAAM;gBAC5D,GAAG,SAAS,eAAe;oBAAE,UAAU;gBAAK,EAAE;gBAC/C,MAAM;gBACN,WAAU;;;;;;YAEX,OAAO,WAAW,kBAAI,8OAAC;gBAAK,WAAU;0BAAQ;;;;;;0BAE/C,8OAAC;gBACE,GAAG,SAAS,OAAO;oBAAE,UAAU;gBAAK,EAAE;gBACvC,WAAU;gBACV,aAAY;;;;;;YAEb,OAAO,GAAG,kBAAI,8OAAC;gBAAK,WAAU;0BAAQ;;;;;;0BAEvC,8OAAC;gBACC,MAAK;gBACL,MAAK;gBACJ,GAAG,SAAS,SAAS;oBAAE,UAAU;oBAAM,eAAe;gBAAK,EAAE;gBAC9D,WAAU;gBACV,aAAY;;;;;;YAEb,OAAO,KAAK,kBAAI,8OAAC;gBAAK,WAAU;0BAAQ;;;;;;0BAEzC,8OAAC;gBAAO,WAAU;gBAAyB,UAAU;0BAClD,YAAY,YAAY;;;;;;;;;;;;AAIjC","debugId":null}}]
}